{"mappings":";;;;;;;;;;;;;;;;ACIA,gBAAS;AAEF,KAAK,CAAC,yCAAe,IAAI,CAAC,QAAC,KAAK,eAAE,UAAU,aAAE,QAAQ,EAAC,CAAC,GAAK,CAAC;IACnE,KAAK,EAAE,OAAO,EAAE,UAAU,IAAI,eAAQ,CAAC,KAAK;IAE5C,KAAK,CAAC,aAAa,GAAG,kBAAW,EAC9B,OAAO,GAAK,CAAC;QACZ,UAAU,EAAE,KAAK,GAAK,CAAC;YACrB,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO;QAC9B,CAAC;IACH,CAAC,EACD,CAAC;QAAA,UAAU;IAAA,CAAC;IAEd,KAAK,CAAC,iBAAiB,GAAG,kBAAW,EAClC,QAAQ,GAAK,CAAC;QACb,UAAU,EAAE,KAAK,GAAK,CAAC;YACrB,QAAQ,CAAC,OAAO,EAAE,GAAG,GAAK,CAAC;gBACzB,MAAM,CAAC,KAAK,CAAC,GAAG;YAClB,CAAC;QACH,CAAC;IACH,CAAC,EACD,CAAC;QAAA,UAAU;IAAA,CAAC;IAGd,EAA6E,AAA7E,2EAA6E;IAC7E,KAAK,CAAC,YAAY,GAAG,cAAO,MACnB,CAAC;eACH,OAAO;2BACV,aAAa;+BACb,iBAAiB;QACnB,CAAC;MACD,CAAC;QAAA,OAAO;QAAE,aAAa;QAAE,iBAAiB;IAAA,CAAC;IAE7C,MAAM,0BACH,UAAU,CAAC,QAAQ;QAAC,KAAK,EAAE,YAAY;kBAAG,QAAQ;;AAEvD,CAAC;AAEM,KAAK,CAAC,yCAAsB,IAAI,CAAC,QACtC,KAAK,eACL,UAAU,aACV,QAAQ,YACR,OAAO,IACT,CAAC,GAAK,CAAC;IACL,KAAK,EAAE,OAAO,EAAE,QAAQ,IAAI,sBAAe,CAAC,OAAO,EAAE,KAAK;IAE1D,KAAK,CAAC,YAAY,GAAG,cAAO,MACnB,CAAC;eAAI,OAAO;sBAAE,QAAQ;QAAC,CAAC;MAC/B,CAAC;QAAA,OAAO;QAAE,QAAQ;IAAA,CAAC;IAErB,MAAM,0BACH,UAAU,CAAC,QAAQ;QAAC,KAAK,EAAE,YAAY;kBAAG,QAAQ;;AAEvD,CAAC;AAEM,KAAK,CAAC,yCAAe,IAC1B,cAAc,EACd,UAAU,EACV,gBAAgB,GACb,CAAC;IACJ,KAAK,CAAC,OAAO,GAAG,iBAAU,CAAC,UAAU;IAErC,KAAK,CAAC,UAAU,GAAG,gBAAgB,CAChC,MAAM,EAAE,GAAG,GAAK,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG;MACjE,GAAG,EAAE,GAAG,GAAK,CAAC;YAAA,GAAG;YAAE,OAAO,CAAC,GAAG;QAAC,CAAC;;IAEnC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,UAAU;IAClD,KAAK,EAAE,IAAI,IAAI,eAAQ,eAAC,WAAI,CAAC,cAAc;IAE3C,MAAM,CAAC,CAAC;QAAA,IAAI;QAAE,YAAY;IAAA,CAAC;AAC7B,CAAC;;;ADzED,GAAuB;AAAvB,yCAAuB,GAAG,yCAAe","sources":["src/index.js","src/components/ContextHelper.js"],"sourcesContent":["import { ContextProvider } from \"./components/ContextHelper\";\nexports.ContextProvider = ContextProvider;\n","import { useCallback, useContext, memo, useState, useMemo } from \"react\";\nimport { enableES5 } from \"immer\";\nimport { useImmer, useImmerReducer } from \"use-immer\";\nimport React from \"react\";\nenableES5();\n\nexport const ContextProvider = ({ value, contextObj, children }) => {\n  const [context, setContext] = useImmer(value);\n\n  const updateContext = useCallback(\n    (toMerge) => {\n      setContext((draft) => {\n        Object.assign(draft, toMerge);\n      });\n    },\n    [setContext],\n  );\n  const removeFromContext = useCallback(\n    (toDelete) => {\n      setContext((draft) => {\n        toDelete.forEach((key) => {\n          delete draft[key];\n        });\n      });\n    },\n    [setContext],\n  );\n\n  //prevents a rerender in consumers every time the Provider's parent rerenders\n  const contextValue = useMemo(\n    () => ({\n      ...context,\n      updateContext,\n      removeFromContext,\n    }),\n    [context, updateContext, removeFromContext],\n  );\n  return (\n    <contextObj.Provider value={contextValue}>{children}</contextObj.Provider>\n  );\n};\n\nexport const ContextReducerProvider = ({\n  value,\n  contextObj,\n  children,\n  reducer,\n}) => {\n  const [context, dispatch] = useImmerReducer(reducer, value);\n\n  const contextValue = useMemo(\n    () => ({ ...context, dispatch }),\n    [context, dispatch],\n  );\n  return (\n    <contextObj.Provider value={contextValue}>{children}</contextObj.Provider>\n  );\n};\n\nexport const useMemoConsumer = (\n  ChildComponent,\n  ContextObj,\n  contextPropsKeys,\n) => {\n  const context = useContext(ContextObj);\n\n  const contextMap = contextPropsKeys\n    .filter((key) => Object.prototype.hasOwnProperty.call(context, key))\n    .map((key) => [key, context[key]]);\n\n  const contextProps = Object.fromEntries(contextMap);\n  const [Memo] = useState(memo(ChildComponent));\n\n  return [Memo, contextProps];\n};\n"],"names":[],"version":3,"file":"module.js.map"}